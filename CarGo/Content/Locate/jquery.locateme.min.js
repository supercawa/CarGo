/*
 * jqLocateMe library - target users geo-location.
 *   (http://brainstorage.me/pushthebutton)
 *
 * Copyright (c) 2014 Evgeniy Zakharov
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 * 
 *  Version: 13/05/2014 rc2
 */

var locateMe=function(h,d,i,k,j,f,c){var a=this,e=j;this.isApplied=false;this.SearchInputLabel=jQuery("<span>").addClass("label").attr("id",d+"_label").html(i);this.SearchInput=jQuery("<input>").addClass("input_search").attr("id",d).attr("type","text");this.SearchInputTip=jQuery("<input>").addClass("input_search_tip").attr("id",d+"_tip").attr("type","text").attr("disabled","disabled");this.SearchResultsTipId=jQuery("<input>").attr("id",d+"_tip_id").attr("type","hidden");this.SearchResults=jQuery("<div>").addClass("results").attr("id",d+"_results");this.SearchUrl=k;this.Reload=function(c){if(c){a.SearchInput.val("");a.SearchInputTip.val("");a.SearchResultsTipId.val("");a.SearchResults.hide().empty()}b.setResultsPosition()};this.Dispose=function(){this.isApplied=false;this.SearchInputLabel.remove();this.SearchInput.unbind().remove();this.SearchInputTip.remove();this.SearchResultsTipId.remove();this.SearchResults.unbind().remove();a=null};this.Disable=function(a){if(a){this.SearchInput.val("").attr("disabled","disabled");this.SearchInputTip.val("").attr("disabled","disabled");this.SearchInputLabel.addClass("disabled");this.SearchResultsTipId.val("");this.SearchResults.empty().hide()}else{this.SearchInput.removeAttr("disabled");this.SearchInputTip.removeAttr("disabled");this.SearchInputLabel.removeClass("disabled")}return this};this.AjaxRequestParameters=function(a){e=a;return e};this.DefaultValue=function(b,a){this.SearchResultsTipId.val(b);this.SearchInput.val(a);return this};this.Value=function(){return{k:a.SearchResultsTipId.val(),v:a.SearchInput.val()}};var b={setResultsPosition:function(){var c=a.SearchInput.offset(),d=b.objectWH(a.SearchInput);a.SearchResults.css("left",c.left).css("top",c.top+d.height-4).css("width",d.width-4)},retrieveResults:function(c){if(c&&c.length>0){var d={};if(e&&typeof e==="object")d=e,d.searchquery=c;else d={searchquery:c};jQuery.ajax({async:true,url:a.SearchUrl,type:"POST",data:d,success:function(a){b.fillResults(a)}})}},fillResults:function(d){a.SearchResults.empty().hide();a.SearchInputTip.val("");if(d&&d.length>1){jQuery(d).each(function(c,b){a.SearchResults.append('<div class="row" id="'+b.k+'">'+b.v+"</div>")});a.SearchResults.find("div").unbind().click(function(){jQuery(this).addClass("selected");b.resultsApply()}).end().css("height",d.length*19).show()}else if(d&&d.length==1){var f=a.SearchInput.val().length,e=d[0].v,g=d[0].k;a.SearchInput.val(e.substring(0,f));a.SearchResultsTipId.val(g);a.SearchInputTip.val(e)}else if(d&&d.length==0)if(a.isApplied){a.SearchResultsTipId.val("");a.SearchInputTip.val("");a.isApplied=false;c&&typeof c==="function"&&c()}},hideResults:function(){a.SearchResults.empty().hide()},resultsMove:function(d){var b=-1,c=a.SearchResults.find(".row").length-1;jQuery(a.SearchResults.children()).each(function(a,c){if(jQuery(c).hasClass("selected")){b=a;return}});if(d=="up"){if(b>0){b--;a.SearchResults.find("div.selected").removeClass("selected").end().find("div:eq("+b+")").addClass("selected")}}else if(b<c){b++;a.SearchResults.find("div.selected").removeClass("selected").end().find("div:eq("+b+")").addClass("selected")}},resultsApply:function(){var b=0;if(a.SearchResultsTipId.val()!=""||a.SearchResults.find("div").length>0){if(a.SearchResults.is(":visible")){b=a.SearchResults.find(".selected").attr("id");a.SearchInput.val(a.SearchResults.find(".selected").html());a.SearchInputTip.val("");a.SearchResultsTipId.val(b);a.SearchResults.empty().hide()}else{b=a.SearchResultsTipId.val();a.SearchInput.val(a.SearchInputTip.val());a.SearchInputTip.val("")}if(!a.isApplied){f&&typeof f==="function"&&f(b);a.isApplied=true}}return b},objectWH:function(b){var a={width:0,height:0};a.height+=b.css("height").replace("px","")*1;a.height+=b.css("margin-top").replace("px","")*1;a.height+=b.css("margin-bottom").replace("px","")*1;a.height+=b.css("border-top-width").replace("px","")*1;a.height+=b.css("border-bottom-width").replace("px","")*1;a.width+=b.css("width").replace("px","")*1;a.width+=b.css("margin-left").replace("px","")*1;a.width+=b.css("margin-right").replace("px","")*1;a.width+=b.css("border-left-width").replace("px","")*1;a.width+=b.css("border-right-width").replace("px","")*1;return a}},g=jQuery("."+h);if(g.length>0){g.append(this.SearchInputLabel).append(this.SearchInput).append(this.SearchInputTip).append(this.SearchResultsTipId).append(this.SearchResults);jQuery(window).resize(function(){b.setResultsPosition()}).trigger("resize");this.SearchInput.keydown(function(d){var f=a.SearchInput.val(),e=f.length;if(d.which>32&&d.which!=40&&d.which!=38&&d.which!=9&&d.which!=39&&d.which!=46&&d.which!=13)return true;else if(d.which==8||d.which==46){if(e-1>0)b.retrieveResults(f.substring(0,e-1));else b.hideResults();if(a.isApplied){a.isApplied=false;a.SearchInputTip.val("");a.SearchResultsTipId.val("");c&&typeof c==="function"&&c()}}else if(d.which==40)b.resultsMove("down");else if(d.which==38)b.resultsMove("up");else if(d.which==39)b.resultsApply();else if(d.which==9&&!a.isApplied){b.resultsApply();return false}else d.which==13&&!a.isApplied&&b.resultsApply()}).keypress(function(c){var f=a.SearchInput.val(),d=String.fromCharCode(c.which||c.keyCode),e=f+d;c.which!=13&&b.retrieveResults(e)})}return this}
/*
var locateMe=function(h,d,j,l,k,f,c){var a=this,e=k;this.isApplied=false;this.SearchInputLabel=jQuery("<span>").addClass("label").attr("id",d+"_label").html(j);this.SearchInput=jQuery("<input>").addClass("input_search").attr("id",d).attr("type","text");this.SearchInputTip=jQuery("<input>").addClass("input_search_tip").attr("id",d+"_tip").attr("type","text").attr("disabled","disabled");this.SearchResultsTipId=jQuery("<input>").attr("id",d+"_tip_id").attr("type","hidden");this.SearchResults=jQuery("<div>").addClass("results").attr("id",d+"_results");this.SearchUrl=l;this.Reload=function(c){if(c){a.SearchInput.val("");a.SearchInputTip.val("");a.SearchResultsTipId.val("");a.SearchResults.hide().empty()}b.setResultsPosition()};this.Dispose=function(){this.isApplied=false;this.SearchInputLabel.remove();this.SearchInput.unbind().remove();this.SearchInputTip.remove();this.SearchResultsTipId.remove();this.SearchResults.unbind().remove();a=null};this.Disable=function(a){if(a){this.SearchInput.val("").attr("disabled","disabled");this.SearchInputTip.val("").attr("disabled","disabled");this.SearchInputLabel.addClass("disabled");this.SearchResultsTipId.val("");this.SearchResults.empty().hide()}else{this.SearchInput.removeAttr("disabled");this.SearchInputTip.removeAttr("disabled");this.SearchInputLabel.removeClass("disabled")}return this};this.AjaxRequestParameters=function(a){e=a;return e};this.DefaultValue=function(b,a){this.SearchResultsTipId.val(b);this.SearchInput.val(a);return this};this.Value=function(){return{k:a.SearchResultsTipId.val(),v:a.SearchInput.val()}};var b={setResultsPosition:function(){var c=a.SearchInput.offset(),d=b.objectWH(a.SearchInput);a.SearchResults.css("left",c.left).css("top",c.top+d.height-4).css("width",d.width-4)},retrieveResults:function(c){if(c&&c.length>0){var d={};if(e&&typeof e==="object")d=e,d.searchquery=c;else d={searchquery:c};jQuery.ajax({async:true,url:a.SearchUrl,type:"POST",data:d,success:function(a){b.fillResults(a)}})}},fillResults:function(d){a.SearchResults.empty().hide();a.SearchInputTip.val("");if(d&&d.length>1){jQuery(d).each(function(c,b){a.SearchResults.append('<div class="row" id="'+b.k+'">'+b.v+"</div>")});a.SearchResults.find("div").unbind().click(function(){jQuery(this).addClass("selected");b.resultsApply()}).end().css("height",d.length*19).show()}else if(d&&d.length==1){var f=a.SearchInput.val().length,e=d[0].v,g=d[0].k;a.SearchInput.val(e.substring(0,f));a.SearchResultsTipId.val(g);a.SearchInputTip.val(e)}else if(d&&d.length==0)if(a.isApplied){a.SearchResultsTipId.val("");a.SearchInputTip.val("");a.isApplied=false;c&&typeof c==="function"&&c()}},resultsMove:function(d){var b=-1,c=a.SearchResults.find(".row").length-1;jQuery(a.SearchResults.children()).each(function(a,c){if(jQuery(c).hasClass("selected")){b=a;return}});if(d=="up"){if(b>0){b--;a.SearchResults.find("div.selected").removeClass("selected").end().find("div:eq("+b+")").addClass("selected")}}else if(b<c){b++;a.SearchResults.find("div.selected").removeClass("selected").end().find("div:eq("+b+")").addClass("selected")}},resultsApply:function(){var b=0;if(a.SearchResultsTipId.val()!=""||a.SearchResults.find("div").length>0){if(a.SearchResults.is(":visible")){b=a.SearchResults.find(".selected").attr("id");a.SearchInput.val(a.SearchResults.find(".selected").html());a.SearchInputTip.val("");a.SearchResultsTipId.val(b);a.SearchResults.empty().hide()}else{b=a.SearchResultsTipId.val();a.SearchInput.val(a.SearchInputTip.val());a.SearchInputTip.val("")}if(!a.isApplied){f&&typeof f==="function"&&f(b);a.isApplied=true}}return b},objectWH:function(b){var a={width:0,height:0};a.height+=b.css("height").replace("px","")*1;a.height+=b.css("margin-top").replace("px","")*1;a.height+=b.css("margin-bottom").replace("px","")*1;a.height+=b.css("border-top-width").replace("px","")*1;a.height+=b.css("border-bottom-width").replace("px","")*1;a.width+=b.css("width").replace("px","")*1;a.width+=b.css("margin-left").replace("px","")*1;a.width+=b.css("margin-right").replace("px","")*1;a.width+=b.css("border-left-width").replace("px","")*1;a.width+=b.css("border-right-width").replace("px","")*1;return a},revertWords:function(b){var a=b.split(/\s+/),c="";for(i=0;i<a.length;i++);}},g=jQuery("."+h);if(g.length>0){g.append(this.SearchInputLabel).append(this.SearchInput).append(this.SearchInputTip).append(this.SearchResultsTipId).append(this.SearchResults);jQuery(window).resize(function(){b.setResultsPosition()}).trigger("resize");this.SearchInput.keydown(function(d){var f=a.SearchInput.val(),e=f.length;if(d.which>32&&d.which!=40&&d.which!=38&&d.which!=9&&d.which!=39&&d.which!=46&&d.which!=13)return true;else if(d.which==8||d.which==46){e-1>0&&b.retrieveResults(f.substring(0,e-1));if(a.isApplied){a.isApplied=false;a.SearchInputTip.val("");a.SearchResultsTipId.val("");c&&typeof c==="function"&&c()}}else if(d.which==40)b.resultsMove("down");else if(d.which==38)b.resultsMove("up");else if(d.which==39)b.resultsApply();else if(d.which==9&&!a.isApplied){b.resultsApply();return false}else d.which==13&&!a.isApplied&&b.resultsApply()}).keypress(function(c){var f=a.SearchInput.val(),d=String.fromCharCode(c.which||c.keyCode),e=f+d;c.which!=13&&b.retrieveResults(e)})}return this}
>>>>>>> 5d7be9f8044f7b1685c9b323677d1be2d4de6c5a
=======
var locateMe=function(h,d,j,l,k,f,c){var a=this,e=k;this.isApplied=false;this.SearchInputLabel=jQuery("<span>").addClass("label").attr("id",d+"_label").html(j);this.SearchInput=jQuery("<input>").addClass("input_search").attr("id",d).attr("type","text");this.SearchInputTip=jQuery("<input>").addClass("input_search_tip").attr("id",d+"_tip").attr("type","text").attr("disabled","disabled");this.SearchResultsTipId=jQuery("<input>").attr("id",d+"_tip_id").attr("type","hidden");this.SearchResults=jQuery("<div>").addClass("results").attr("id",d+"_results");this.SearchUrl=l;this.Reload=function(c){if(c){a.SearchInput.val("");a.SearchInputTip.val("");a.SearchResultsTipId.val("");a.SearchResults.hide().empty()}b.setResultsPosition()};this.Dispose=function(){this.isApplied=false;this.SearchInputLabel.remove();this.SearchInput.unbind().remove();this.SearchInputTip.remove();this.SearchResultsTipId.remove();this.SearchResults.unbind().remove();a=null};this.Disable=function(a){if(a){this.SearchInput.val("").attr("disabled","disabled");this.SearchInputTip.val("").attr("disabled","disabled");this.SearchInputLabel.addClass("disabled");this.SearchResultsTipId.val("");this.SearchResults.empty().hide()}else{this.SearchInput.removeAttr("disabled");this.SearchInputTip.removeAttr("disabled");this.SearchInputLabel.removeClass("disabled")}return this};this.AjaxRequestParameters=function(a){e=a;return e};this.DefaultValue=function(b,a){this.SearchResultsTipId.val(b);this.SearchInput.val(a);return this};this.Value=function(){return{k:a.SearchResultsTipId.val(),v:a.SearchInput.val()}};var b={setResultsPosition:function(){var c=a.SearchInput.offset(),d=b.objectWH(a.SearchInput);a.SearchResults.css("left",c.left).css("top",c.top+d.height-4).css("width",d.width-4)},retrieveResults:function(c){if(c&&c.length>0){var d={};if(e&&typeof e==="object")d=e,d.searchquery=c;else d={searchquery:c};jQuery.ajax({async:true,url:a.SearchUrl,type:"POST",data:d,success:function(a){b.fillResults(a)}})}},fillResults:function(d){a.SearchResults.empty().hide();a.SearchInputTip.val("");if(d&&d.length>1){jQuery(d).each(function(c,b){a.SearchResults.append('<div class="row" id="'+b.k+'">'+b.v+"</div>")});a.SearchResults.find("div").unbind().click(function(){jQuery(this).addClass("selected");b.resultsApply()}).end().css("height",d.length*19).show()}else if(d&&d.length==1){var f=a.SearchInput.val().length,e=d[0].v,g=d[0].k;a.SearchInput.val(e.substring(0,f));a.SearchResultsTipId.val(g);a.SearchInputTip.val(e)}else if(d&&d.length==0)if(a.isApplied){a.SearchResultsTipId.val("");a.SearchInputTip.val("");a.isApplied=false;c&&typeof c==="function"&&c()}},resultsMove:function(d){var b=-1,c=a.SearchResults.find(".row").length-1;jQuery(a.SearchResults.children()).each(function(a,c){if(jQuery(c).hasClass("selected")){b=a;return}});if(d=="up"){if(b>0){b--;a.SearchResults.find("div.selected").removeClass("selected").end().find("div:eq("+b+")").addClass("selected")}}else if(b<c){b++;a.SearchResults.find("div.selected").removeClass("selected").end().find("div:eq("+b+")").addClass("selected")}},resultsApply:function(){var b=0;if(a.SearchResultsTipId.val()!=""||a.SearchResults.find("div").length>0){if(a.SearchResults.is(":visible")){b=a.SearchResults.find(".selected").attr("id");a.SearchInput.val(a.SearchResults.find(".selected").html());a.SearchInputTip.val("");a.SearchResultsTipId.val(b);a.SearchResults.empty().hide()}else{b=a.SearchResultsTipId.val();a.SearchInput.val(a.SearchInputTip.val());a.SearchInputTip.val("")}if(!a.isApplied){f&&typeof f==="function"&&f(b);a.isApplied=true}}return b},objectWH:function(b){var a={width:0,height:0};a.height+=b.css("height").replace("px","")*1;a.height+=b.css("margin-top").replace("px","")*1;a.height+=b.css("margin-bottom").replace("px","")*1;a.height+=b.css("border-top-width").replace("px","")*1;a.height+=b.css("border-bottom-width").replace("px","")*1;a.width+=b.css("width").replace("px","")*1;a.width+=b.css("margin-left").replace("px","")*1;a.width+=b.css("margin-right").replace("px","")*1;a.width+=b.css("border-left-width").replace("px","")*1;a.width+=b.css("border-right-width").replace("px","")*1;return a},revertWords:function(b){var a=b.split(/\s+/),c="";for(i=0;i<a.length;i++);}},g=jQuery("."+h);if(g.length>0){g.append(this.SearchInputLabel).append(this.SearchInput).append(this.SearchInputTip).append(this.SearchResultsTipId).append(this.SearchResults);jQuery(window).resize(function(){b.setResultsPosition()}).trigger("resize");this.SearchInput.keydown(function(d){var f=a.SearchInput.val(),e=f.length;if(d.which>32&&d.which!=40&&d.which!=38&&d.which!=9&&d.which!=39&&d.which!=46&&d.which!=13)return true;else if(d.which==8||d.which==46){e-1>0&&b.retrieveResults(f.substring(0,e-1));if(a.isApplied){a.isApplied=false;a.SearchInputTip.val("");a.SearchResultsTipId.val("");c&&typeof c==="function"&&c()}}else if(d.which==40)b.resultsMove("down");else if(d.which==38)b.resultsMove("up");else if(d.which==39)b.resultsApply();else if(d.which==9&&!a.isApplied){b.resultsApply();return false}else d.which==13&&!a.isApplied&&b.resultsApply()}).keypress(function(c){var f=a.SearchInput.val(),d=String.fromCharCode(c.which||c.keyCode),e=f+d;c.which!=13&&b.retrieveResults(e)})}return this}
>>>>>>> 5d7be9f8044f7b1685c9b323677d1be2d4de6c5a
*/
